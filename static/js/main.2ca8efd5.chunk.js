(this["webpackJsonpreact-firebase-fertilizer"]=this["webpackJsonpreact-firebase-fertilizer"]||[]).push([[0],{37:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),r=a(18),s=a.n(r),j=(a(37),a(26)),i=a.n(j),l=a(28),d=a(13),o=(a(39),a(52)),b=a(55),u=a(56),h=a(53),O=a(31),f=a(57),x=a(54),p=a(29),m=a.n(p),g={apiKey:"AIzaSyD34YAfsXQqWGBoSQlfdikrt4jvkSmxxC0",authDomain:"cit6004-611463023.firebaseapp.com",databaseURL:"https://cit6004-611463023.firebaseio.com",projectId:"cit6004-611463023",storageBucket:"cit6004-611463023.appspot.com",messagingSenderId:"57289111086",appId:"1:57289111086:web:a0e66f04184ee6b495d1bf",measurementId:"G-2411LN4GFJ"},v=a(15),y=a(51),_=a(3),k=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(f.a,{variant:"primary",disabled:!0,className:"w-100",children:[Object(_.jsx)(y.a,{animation:"border",role:"status",children:Object(_.jsx)("span",{className:"sr-only",children:"..."})}),"Loadding..."]})," "]})},C=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(d.a)(r,2),j=s[0],p=s[1],y=Object(c.useState)([]),C=Object(d.a)(y,2),S=C[0],F=C[1],w=Object(c.useState)([]),N=Object(d.a)(w,2),L=N[0],z=N[1],V=Object(c.useState)(!1),B=Object(d.a)(V,2),G=B[0],D=B[1],I=Object(c.useState)(!1),E=Object(d.a)(I,2),P=E[0],H=E[1],K=Object(c.useState)(!1),T=Object(d.a)(K,2),A=T[0],J=T[1],M=Object(c.useState)(!1),Y=Object(d.a)(M,2),Q=Y[0],q=Y[1],R=Object(c.useState)(""),U=Object(d.a)(R,2),W=U[0],X=U[1],Z=Object(c.useState)(""),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ce=Object(d.a)(ae,2),ne=ce[0],re=ce[1],se=Object(c.useState)(""),je=Object(d.a)(se,2),ie=je[0],le=je[1],de=Object(c.useState)(""),oe=Object(d.a)(de,2),be=oe[0],ue=oe[1],he=Object(c.useState)(""),Oe=Object(d.a)(he,2),fe=Oe[0],xe=Oe[1],pe=Object(c.useState)(""),me=Object(d.a)(pe,2),ge=me[0],ve=me[1],ye=Object(c.useState)(""),_e=Object(d.a)(ye,2),ke=_e[0],Ce=_e[1],Se=Object(c.useState)(""),Fe=Object(d.a)(Se,2),we=Fe[0],Ne=Fe[1],Le=Object(c.useState)(""),ze=Object(d.a)(Le,2),Ve=(ze[0],ze[1],Object(c.useState)("")),Be=Object(d.a)(Ve,2),Ge=(Be[0],Be[1],Object(c.useState)("")),De=Object(d.a)(Ge,2),Ie=De[0],Ee=De[1],Pe=Object(c.useState)(""),He=Object(d.a)(Pe,2),Ke=He[0],Te=He[1];Object(c.useEffect)((function(){v.a.apps.length?v.a.app():v.a.initializeApp(g),function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.database().ref("fertilizer").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,code:a.code_f,name:a.name_f,n:a.n_f,p:a.p_f,k:a.k_f,status:a.status})})),p(t)}));case 2:return e.next=4,v.a.database().ref("garden").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,code:a.code})})),z(t)}));case 4:return e.next=6,v.a.database().ref("plants").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,name:a.name_th})})),F(t)}));case 6:return e.next=8,v.a.database().ref("fertilizer_history").orderByChild("date").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val(),c="";v.a.database().ref("plants").child(a.code_plants).once("value",(function(e){c=e.val().name_th}));var n,r,s="";v.a.database().ref("fertilizer").child(a.key_f).once("value",(function(e){s=e.key,n=e.val().code_f,r=e.val().name_f}));var j="";v.a.database().ref("garden").child(a.code_garden).once("value",(function(e){j=e.val().code})),t.push({key:e.key,key_f:s,code_f:n,name_f:r,code_plants:a.code_plants,name_plants:c,code_garden:a.code_garden,name_garden:j,date:a.date,detail:a.detail_his,status:a.status})})),n(t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),console.log=console.warn=console.error=function(){}}),[undefined,undefined,undefined,null]);var Ae=function(){G?v.a.database().ref("fertilizer").child(W).update({code_f:ne,name_f:ie,n_f:ge,p_f:ke,k_f:we,status:!0}):v.a.database().ref("fertilizer").push({code_f:ne,name_f:ie,n_f:ge,p_f:ke,k_f:we,status:!0}),D(!1),J(!1),Me()},Je=function(){P?v.a.database().ref("fertilizer_history").child(ee).update({date:Ie,key_f:W,code_garden:fe,code_plants:be,detail_his:Ke,status:!0}):v.a.database().ref("fertilizer_history").push({date:Ie,key_f:W,code_garden:fe,code_plants:be,detail_his:Ke,status:!0}),q(!1),H(!1),Ye()},Me=function(){re(""),le(""),ve(""),Ce(""),Ne(""),X("")},Ye=function(){te(""),Ee(""),Te(""),re(""),ue(""),xe(""),X("")};return Object(_.jsxs)(o.a,{children:[Object(_.jsxs)(b.a,{show:A,onHide:function(){J(!1),D(!1),Me()},keyboard:!1,onSubmit:function(e){e.preventDefault(),ie&&ge&&ke&&we?Ae():console.log("error")},children:[Object(_.jsx)(b.a.Header,{closeButton:!0,children:Object(_.jsx)(b.a.Title,{children:G?Object(_.jsx)(_.Fragment,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e38\u0e4b\u0e22"}):Object(_.jsx)(_.Fragment,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e38\u0e4b\u0e22"})})}),Object(_.jsx)(b.a.Body,{children:Object(_.jsxs)(u.a,{children:[Object(_.jsx)(u.a.Group,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)(u.a.Control,{type:"text",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22",defaultValue:ne,onChange:function(e){var t=e.target.value;re(t)}})]}),Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)(u.a.Control,{type:"text",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22",defaultValue:ie,onChange:function(e){var t=e.target.value;le(t)}})]})]})}),Object(_.jsx)(u.a.Group,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"N"}),Object(_.jsx)(u.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(N)",defaultValue:ge,onChange:function(e){var t=e.target.value;ve(t)}})]}),Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"P"}),Object(_.jsx)(u.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(P)",defaultValue:ke,onChange:function(e){var t=e.target.value;Ce(t)}})]}),Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"K"}),Object(_.jsx)(u.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(K)",defaultValue:we,onChange:function(e){var t=e.target.value;Ne(t)}})]})]})}),Object(_.jsx)("hr",{}),G?Object(_.jsx)(f.a,{className:"btn-warning float-right",type:"submit",children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}):Object(_.jsx)(f.a,{className:"btn-success float-right",type:"submit",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]})})]}),Object(_.jsxs)(b.a,{show:Q,onHide:function(){q(!1),H(!1),Ye()},keyboard:!1,onSubmit:function(e){e.preventDefault(),W&&Ke&&Ie&&be&&fe?Je():console.log("error : ".concat(W," , ").concat(Ke," , ").concat(Ie," , ").concat(be," , ").concat(fe," "))},children:[Object(_.jsx)(b.a.Header,{closeButton:!0,children:Object(_.jsx)(b.a.Title,{children:P?Object(_.jsx)(_.Fragment,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}):Object(_.jsx)(_.Fragment,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"})})}),Object(_.jsx)(b.a.Body,{children:Object(_.jsxs)(u.a,{children:[Object(_.jsx)(u.a.Group,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),Object(_.jsx)(u.a.Control,{type:"date",stype:{format:"dd/mm/yyyy"},format:"dd/mm/yyyy",defaultValue:Ie,onChange:function(e){var t=e.target.value;Ee(t)}})]}),Object(_.jsxs)(O.a,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)(u.a.Control,{as:"select",defaultValue:W,onChange:function(e){var t=e.target.value;X(t)},children:P?Object(_.jsx)(_.Fragment,{children:j&&j.map((function(e){var t=e.key,a=e.name;return t===W?Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("option",{selected:!0,value:t,children:a},t)}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("option",{value:t,children:a},t)})}))}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22--"}),j&&j.map((function(e){var t=e.key,a=e.name;return Object(_.jsx)("option",{value:t,children:a},t)}))]})})]})]})}),Object(_.jsxs)(u.a.Group,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e25\u0e39\u0e01"}),Object(_.jsxs)(u.a.Control,{as:"select",defaultValue:fe,onChange:function(e){var t=e.target.value;xe(t)},children:[Object(_.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e25\u0e39\u0e01--"}),L&&L.map((function(e){var t=e.key,a=e.code;return Object(_.jsx)("option",{value:t,children:a},t)}))]})]}),Object(_.jsxs)(u.a.Group,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a"}),Object(_.jsx)(u.a.Control,{as:"select",defaultValue:be,onChange:function(e){var t=e.target.value;ue(t)},children:P?Object(_.jsx)(_.Fragment,{children:S&&S.map((function(e){var t=e.key,a=e.name;return t===be?Object(_.jsx)("option",{selected:!0,value:t,children:a},t):Object(_.jsx)("option",{value:t,children:a},t)}))}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a--"}),S&&S.map((function(e){var t=e.key,a=e.name;return Object(_.jsx)("option",{value:t,children:a},t)}))]})})]}),Object(_.jsxs)(u.a.Group,{children:[Object(_.jsx)(u.a.Label,{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}),Object(_.jsx)(u.a.Control,{type:"textarea",as:"textarea",rows:3,defaultValue:Ke,onChange:function(e){var t=e.target.value;Te(t)}})]}),Object(_.jsx)("hr",{}),P?Object(_.jsx)(f.a,{className:"btn-warning float-right",type:"submit",children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}):Object(_.jsx)(f.a,{className:"btn-success float-right",type:"submit",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"})]})})]}),Object(_.jsx)(f.a,{className:"float-right btn-success",onClick:function(){return J(!0)},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1b\u0e38\u0e4b\u0e22"}),j?Object(_.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)("th",{children:"N"}),Object(_.jsx)("th",{children:"P"}),Object(_.jsx)("th",{children:"K"}),Object(_.jsx)("th",{})]})}),Object(_.jsx)("tbody",{children:j.map((function(e){return Object(_.jsx)(_.Fragment,{children:e?Object(_.jsx)(_.Fragment,{children:e.status?Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.code}),Object(_.jsx)("td",{children:e.name}),Object(_.jsx)("td",{children:e.n}),Object(_.jsx)("td",{children:e.p}),Object(_.jsx)("td",{children:e.k}),Object(_.jsxs)("td",{children:[Object(_.jsx)(f.a,{className:"btn-warning mr-2",onClick:function(){X(e.key),re(e.code),le(e.name),ve(e.n),Ce(e.p),Ne(e.k),J(!0),D(!0)},children:"edit"}),Object(_.jsx)(f.a,{className:"btn-danger",onClick:function(){window.confirm("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a ".concat(e.code," \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 "))?v.a.database().ref("/fertilizer").child(e.key).update({status:!1}):_.Fragment},children:"delete"})]})]},e.key):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(k,{})})}))})]}):Object(_.jsx)(k,{}),Object(_.jsx)("hr",{}),Object(_.jsx)(f.a,{className:"float-right btn-success",onClick:function(){return q(!0)},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}),a?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,variant:"white",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),Object(_.jsx)("th",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(_.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a"}),Object(_.jsx)("th",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),Object(_.jsx)("th",{})]})}),Object(_.jsx)("tbody",{children:a.map((function(e){return Object(_.jsx)(_.Fragment,{children:e?Object(_.jsx)(_.Fragment,{children:e.status?Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:m()(e.date).format("DD-MM-YY")}),Object(_.jsx)("td",{children:e.code_f}),Object(_.jsx)("td",{children:e.name_f}),Object(_.jsx)("td",{children:e.name_plants}),Object(_.jsx)("td",{children:e.detail}),Object(_.jsxs)("td",{children:[Object(_.jsx)(f.a,{className:"btn-warning mr-2 ",onClick:function(){te(e.key),X(e.key_f),re(e.code_f),Ee(e.date),Te(e.detail),xe(e.code_garden),ue(e.code_plants),H(!0),q(!0)},children:"edit"}),e.status?Object(_.jsx)(f.a,{className:"btn-danger",onClick:function(){window.confirm("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 ".concat(e.date," \u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22 ").concat(e.code_f," \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 "))?v.a.database().ref("/fertilizer_history").child(e.key).update({status:!1}):_.Fragment},children:"delete"}):Object(_.jsx)(f.a,{className:"btn-info",onClick:function(){v.a.database().ref("/fertilizer_history").child(e.key).update({status:!0})},children:"delete"})]})]},e.key):Object(_.jsx)(_.Fragment,{})}):Object(_.jsx)(k,{})})}))})]}),Object(_.jsx)("hr",{})]}):Object(_.jsx)(k,{})]})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(C,{})}),document.getElementById("root")),S()}},[[49,1,2]]]);
//# sourceMappingURL=main.2ca8efd5.chunk.js.map