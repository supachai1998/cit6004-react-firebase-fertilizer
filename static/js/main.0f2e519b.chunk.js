(this["webpackJsonpreact-firebase-fertilizer"]=this["webpackJsonpreact-firebase-fertilizer"]||[]).push([[0],{37:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),r=a(18),s=a.n(r),i=(a(37),a(26)),j=a.n(i),d=a(28),l=a(13),o=(a(39),a(52)),b=a(55),O=a(56),u=a(53),h=a(31),f=a(57),x=a(54),_=a(29),p=a.n(_),S={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).apiKey,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).authDomain,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).databaseURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).projectId,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).messagingSenderId,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).appId,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/cit6004-react-firebase-fertilizer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).measurementId},v=a(15),m=a(51),g=a(3),y=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(f.a,{variant:"primary",disabled:!0,className:"w-100",children:[Object(g.jsx)(m.a,{animation:"border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"..."})}),"Loadding..."]})," "]})},C=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(l.a)(r,2),i=s[0],_=s[1],m=Object(c.useState)([]),C=Object(l.a)(m,2),E=C[0],T=C[1],k=Object(c.useState)([]),F=Object(l.a)(k,2),D=F[0],R=F[1],N=Object(c.useState)(!1),L=Object(l.a)(N,2),K=L[0],P=L[1],H=Object(c.useState)(!1),W=Object(l.a)(H,2),z=W[0],w=W[1],I=Object(c.useState)(!1),U=Object(l.a)(I,2),V=U[0],A=U[1],B=Object(c.useState)(!1),G=Object(l.a)(B,2),M=G[0],J=G[1],Y=Object(c.useState)(""),q=Object(l.a)(Y,2),Q=q[0],X=q[1],Z=Object(c.useState)(""),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)(""),ce=Object(l.a)(ae,2),ne=ce[0],re=ce[1],se=Object(c.useState)(""),ie=Object(l.a)(se,2),je=ie[0],de=ie[1],le=Object(c.useState)(""),oe=Object(l.a)(le,2),be=oe[0],Oe=oe[1],ue=Object(c.useState)(""),he=Object(l.a)(ue,2),fe=he[0],xe=he[1],_e=Object(c.useState)(""),pe=Object(l.a)(_e,2),Se=pe[0],ve=pe[1],me=Object(c.useState)(""),ge=Object(l.a)(me,2),ye=ge[0],Ce=ge[1],Ee=Object(c.useState)(""),Te=Object(l.a)(Ee,2),ke=Te[0],Fe=Te[1],De=Object(c.useState)(""),Re=Object(l.a)(De,2),Ne=(Re[0],Re[1],Object(c.useState)("")),Le=Object(l.a)(Ne,2),Ke=(Le[0],Le[1],Object(c.useState)("")),Pe=Object(l.a)(Ke,2),He=Pe[0],We=Pe[1],ze=Object(c.useState)(""),we=Object(l.a)(ze,2),Ie=we[0],Ue=we[1];Object(c.useEffect)((function(){v.a.apps.length?v.a.app():v.a.initializeApp(S),function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.database().ref("fertilizer").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,code:a.code_f,name:a.name_f,n:a.n_f,p:a.p_f,k:a.k_f,status:a.status})})),_(t)}));case 2:return e.next=4,v.a.database().ref("garden").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,code:a.code})})),R(t)}));case 4:return e.next=6,v.a.database().ref("plants").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val();t.push({key:e.key,name:a.name_th})})),T(t)}));case 6:return e.next=8,v.a.database().ref("fertilizer_history").orderByChild("date").on("value",(function(e){var t=[];e.forEach((function(e){var a=e.val(),c="";v.a.database().ref("plants").child(a.code_plants).once("value",(function(e){c=e.val().name_th}));var n,r,s="";v.a.database().ref("fertilizer").child(a.key_f).once("value",(function(e){s=e.key,n=e.val().code_f,r=e.val().name_f}));var i="";v.a.database().ref("garden").child(a.code_garden).once("value",(function(e){i=e.val().code})),t.push({key:e.key,key_f:s,code_f:n,name_f:r,code_plants:a.code_plants,name_plants:c,code_garden:a.code_garden,name_garden:i,date:a.date,detail:a.detail_his,status:a.status})})),n(t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),console.log=console.warn=console.error=function(){}}),[undefined,undefined,undefined,null]);var Ve=function(){K?v.a.database().ref("fertilizer").child(Q).update({code_f:ne,name_f:je,n_f:Se,p_f:ye,k_f:ke,status:!0}):v.a.database().ref("fertilizer").push({code_f:ne,name_f:je,n_f:Se,p_f:ye,k_f:ke,status:!0}),P(!1),A(!1),Be()},Ae=function(){z?v.a.database().ref("fertilizer_history").child(ee).update({date:He,key_f:Q,code_garden:fe,code_plants:be,detail_his:Ie,status:!0}):v.a.database().ref("fertilizer_history").push({date:He,key_f:Q,code_garden:fe,code_plants:be,detail_his:Ie,status:!0}),J(!1),w(!1),Ge()},Be=function(){re(""),de(""),ve(""),Ce(""),Fe(""),X("")},Ge=function(){te(""),We(""),Ue(""),re(""),Oe(""),xe(""),X("")};return Object(g.jsxs)(o.a,{children:[Object(g.jsxs)(b.a,{show:V,onHide:function(){A(!1),P(!1),Be()},keyboard:!1,onSubmit:function(e){e.preventDefault(),je&&Se&&ye&&ke?Ve():console.log("error")},children:[Object(g.jsx)(b.a.Header,{closeButton:!0,children:Object(g.jsx)(b.a.Title,{children:K?Object(g.jsx)(g.Fragment,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e38\u0e4b\u0e22"}):Object(g.jsx)(g.Fragment,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e38\u0e4b\u0e22"})})}),Object(g.jsx)(b.a.Body,{children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(O.a.Group,{children:Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)(O.a.Control,{type:"text",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22",defaultValue:ne,onChange:function(e){var t=e.target.value;re(t)}})]}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)(O.a.Control,{type:"text",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22",defaultValue:je,onChange:function(e){var t=e.target.value;de(t)}})]})]})}),Object(g.jsx)(O.a.Group,{children:Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"N"}),Object(g.jsx)(O.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(N)",defaultValue:Se,onChange:function(e){var t=e.target.value;ve(t)}})]}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"P"}),Object(g.jsx)(O.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(P)",defaultValue:ye,onChange:function(e){var t=e.target.value;Ce(t)}})]}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"K"}),Object(g.jsx)(O.a.Control,{type:"number",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02(K)",defaultValue:ke,onChange:function(e){var t=e.target.value;Fe(t)}})]})]})}),Object(g.jsx)("hr",{}),K?Object(g.jsx)(f.a,{className:"btn-warning float-right",type:"submit",children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}):Object(g.jsx)(f.a,{className:"btn-success float-right",type:"submit",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]})})]}),Object(g.jsxs)(b.a,{show:M,onHide:function(){J(!1),w(!1),Ge()},keyboard:!1,onSubmit:function(e){e.preventDefault(),Q&&Ie&&He&&be&&fe?Ae():console.log("error : ".concat(Q," , ").concat(Ie," , ").concat(He," , ").concat(be," , ").concat(fe," "))},children:[Object(g.jsx)(b.a.Header,{closeButton:!0,children:Object(g.jsx)(b.a.Title,{children:z?Object(g.jsx)(g.Fragment,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}):Object(g.jsx)(g.Fragment,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"})})}),Object(g.jsx)(b.a.Body,{children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(O.a.Group,{children:Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),Object(g.jsx)(O.a.Control,{type:"date",stype:{format:"dd/mm/yyyy"},format:"dd/mm/yyyy",defaultValue:He,onChange:function(e){var t=e.target.value;We(t)}})]}),Object(g.jsxs)(h.a,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)(O.a.Control,{as:"select",defaultValue:Q,onChange:function(e){var t=e.target.value;X(t)},children:z?Object(g.jsx)(g.Fragment,{children:i&&i.map((function(e){var t=e.key,a=e.name;return t===Q?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("option",{selected:!0,value:t,children:a},t)}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("option",{value:t,children:a},t)})}))}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22--"}),i&&i.map((function(e){var t=e.key,a=e.name;return Object(g.jsx)("option",{value:t,children:a},t)}))]})})]})]})}),Object(g.jsxs)(O.a.Group,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e25\u0e39\u0e01"}),Object(g.jsxs)(O.a.Control,{as:"select",defaultValue:fe,onChange:function(e){var t=e.target.value;xe(t)},children:[Object(g.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e41\u0e1b\u0e25\u0e07\u0e1b\u0e25\u0e39\u0e01--"}),D&&D.map((function(e){var t=e.key,a=e.code;return Object(g.jsx)("option",{value:t,children:a},t)}))]})]}),Object(g.jsxs)(O.a.Group,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a"}),Object(g.jsx)(O.a.Control,{as:"select",defaultValue:be,onChange:function(e){var t=e.target.value;Oe(t)},children:z?Object(g.jsx)(g.Fragment,{children:E&&E.map((function(e){var t=e.key,a=e.name;return t===be?Object(g.jsx)("option",{selected:!0,value:t,children:a},t):Object(g.jsx)("option",{value:t,children:a},t)}))}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("option",{children:"--\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a--"}),E&&E.map((function(e){var t=e.key,a=e.name;return Object(g.jsx)("option",{value:t,children:a},t)}))]})})]}),Object(g.jsxs)(O.a.Group,{children:[Object(g.jsx)(O.a.Label,{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}),Object(g.jsx)(O.a.Control,{type:"textarea",as:"textarea",rows:3,defaultValue:Ie,onChange:function(e){var t=e.target.value;Ue(t)}})]}),Object(g.jsx)("hr",{}),z?Object(g.jsx)(f.a,{className:"btn-warning float-right",type:"submit",children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}):Object(g.jsx)(f.a,{className:"btn-success float-right",type:"submit",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"})]})})]}),Object(g.jsx)(f.a,{className:"float-right btn-success",onClick:function(){return A(!0)},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1b\u0e38\u0e4b\u0e22"}),i?Object(g.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)("th",{children:"N"}),Object(g.jsx)("th",{children:"P"}),Object(g.jsx)("th",{children:"K"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:i.map((function(e){return Object(g.jsx)(g.Fragment,{children:e?Object(g.jsx)(g.Fragment,{children:e.status?Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.code}),Object(g.jsx)("td",{children:e.name}),Object(g.jsx)("td",{children:e.n}),Object(g.jsx)("td",{children:e.p}),Object(g.jsx)("td",{children:e.k}),Object(g.jsxs)("td",{children:[Object(g.jsx)(f.a,{className:"btn-warning mr-2",onClick:function(){X(e.key),re(e.code),de(e.name),ve(e.n),Ce(e.p),Fe(e.k),A(!0),P(!0)},children:"edit"}),Object(g.jsx)(f.a,{className:"btn-danger",onClick:function(){window.confirm("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a ".concat(e.code," \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 "))?v.a.database().ref("/fertilizer").child(e.key).update({status:!1}):g.Fragment},children:"delete"})]})]},e.key):Object(g.jsx)(g.Fragment,{})}):Object(g.jsx)(y,{})})}))})]}):Object(g.jsx)(y,{}),Object(g.jsx)("hr",{}),Object(g.jsx)(f.a,{className:"float-right btn-success",onClick:function(){return J(!0)},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34"}),a?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,variant:"white",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),Object(g.jsx)("th",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1b\u0e38\u0e4b\u0e22"}),Object(g.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e37\u0e0a"}),Object(g.jsx)("th",{children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:a.map((function(e){return Object(g.jsx)(g.Fragment,{children:e?Object(g.jsx)(g.Fragment,{children:e.status?Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:p()(e.date).format("DD-MM-YY")}),Object(g.jsx)("td",{children:e.code_f}),Object(g.jsx)("td",{children:e.name_f}),Object(g.jsx)("td",{children:e.name_plants}),Object(g.jsx)("td",{children:e.detail}),Object(g.jsxs)("td",{children:[Object(g.jsx)(f.a,{className:"btn-warning mr-2 ",onClick:function(){te(e.key),X(e.key_f),re(e.code_f),We(e.date),Ue(e.detail),xe(e.code_garden),Oe(e.code_plants),w(!0),J(!0)},children:"edit"}),e.status?Object(g.jsx)(f.a,{className:"btn-danger",onClick:function(){window.confirm("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 ".concat(e.date," \u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e38\u0e4b\u0e22 ").concat(e.code_f," \u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 "))?v.a.database().ref("/fertilizer_history").child(e.key).update({status:!1}):g.Fragment},children:"delete"}):Object(g.jsx)(f.a,{className:"btn-info",onClick:function(){v.a.database().ref("/fertilizer_history").child(e.key).update({status:!0})},children:"delete"})]})]},e.key):Object(g.jsx)(g.Fragment,{})}):Object(g.jsx)(y,{})})}))})]}),Object(g.jsx)("hr",{})]}):Object(g.jsx)(y,{})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(C,{})}),document.getElementById("root")),E()}},[[49,1,2]]]);
//# sourceMappingURL=main.0f2e519b.chunk.js.map